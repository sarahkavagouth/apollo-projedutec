const quizData = {
  fundamentosDaGravidade: [
    {
      pergunta: "O que é a gravidade?",
      opcoes: [
        "A força que puxa os objetos em direção ao centro da Terra.",
        "A força que empurra os objetos para longe da Terra.",
        "A força que faz os objetos levitarem no espaço.",
        "A força que faz os objetos se moverem mais rápido na água.",
      ],
      respostaCorreta: "A",
    },
    {
      pergunta: "O que causa a gravidade?",
      opcoes: [
        "A presença de luz ao redor de um objeto.",
        "A presença de massa em um objeto.",
        "A temperatura de um objeto.",
        "O movimento dos planetas no espaço.",
      ],
      respostaCorreta: "B",
    },
    {
      pergunta: "Qual é a relação entre a massa e a gravidade?",
      opcoes: [
        "Quanto maior a massa, menor é a gravidade.",
        "Quanto menor a massa, maior é a gravidade.",
        "Quanto maior a massa, maior é a gravidade.",
        "A massa não afeta a gravidade.",
      ],
      respostaCorreta: "C",
    },
    {
      pergunta: "Por que a gravidade é mais forte na Terra do que na Lua?",
      opcoes: [
        "Porque a Lua tem uma atmosfera mais densa.",
        "Porque a Terra está mais próxima do Sol.",
        "Porque a Lua gira mais rápido.",
        "Porque a Terra é muito maior e tem mais massa.",
      ],
      respostaCorreta: "D",
    },
    {
      pergunta: "Como a gravidade afeta os planetas no nosso sistema solar?",
      opcoes: [
        "A gravidade faz os planetas saírem do sistema solar.",
        "A gravidade faz os planetas girarem em torno do Sol.",
        "A gravidade faz os planetas se colidirem entre si.",
        "A gravidade faz os planetas pararem de girar.",
      ],
      respostaCorreta: "B",
    },
    {
      pergunta: "O que é peso?",
      opcoes: [
        "A massa de um objeto em um lugar específico.",
        "A força de gravidade agindo sobre a massa de um objeto.",
        "O volume de um objeto.",
        "A densidade de um objeto.",
      ],
      respostaCorreta: "B",
    },
    {
      pergunta: "Por que os astronautas parecem flutuar no espaço?",
      opcoes: [
        "Porque não há gravidade no espaço.",
        "Porque a gravidade é muito fraca no espaço.",
        "Porque eles estão em um estado de queda livre.",
        "Porque eles têm equipamentos especiais.",
      ],
      respostaCorreta: "C",
    },
    {
      pergunta:
        "O que acontece com a gravidade se você estiver mais longe da Terra?",
      opcoes: [
        "A gravidade aumenta.",
        "A gravidade não muda.",
        "A gravidade diminui.",
        "A gravidade se torna invisível.",
      ],
      respostaCorreta: "C",
    },
    {
      pergunta: "Como a gravidade afeta os oceanos da Terra?",
      opcoes: [
        "A gravidade faz os oceanos se expandirem.",
        "A gravidade faz os oceanos encolherem.",
        "A gravidade causa as marés nos oceanos.",
        "A gravidade não afeta os oceanos.",
      ],
      respostaCorreta: "C",
    },
    {
      pergunta:
        "Qual é a relação entre a gravidade e o movimento dos corpos celestes?",
      opcoes: [
        "A gravidade faz com que os corpos celestes se movam em linha reta.",
        "A gravidade não afeta o movimento dos corpos celestes.",
        "A gravidade faz com que os corpos celestes sigam órbitas ao redor de outros corpos.",
        "A gravidade faz com que os corpos celestes se movam em círculos perfeitos.",
      ],
      respostaCorreta: "C",
    },
  ],
  teoriaDaRelatividadeGeral: [
    {
      pergunta: "O que é a teoria da relatividade geral?",
      opcoes: [
        "A teoria que explica como a gravidade afeta o espaço e o tempo.",
        "A teoria que explica como a luz se move no espaço.",
        "A teoria que descreve o funcionamento dos átomos.",
        "A teoria que mostra como os planetas se movem em linha reta.",
      ],
      respostaCorreta: "A",
    },
    {
      pergunta: "Quem desenvolveu a teoria da relatividade geral?",
      opcoes: [
        "Isaac Newton.",
        "Albert Einstein.",
        "Galileo Galilei.",
        "Stephen Hawking.",
      ],
      respostaCorreta: "B",
    },
    {
      pergunta: "Como a teoria da relatividade geral explica a gravidade?",
      opcoes: [
        "A gravidade é causada por partículas invisíveis.",
        "A gravidade é uma força que puxa objetos em linha reta.",
        "A gravidade é causada pela curvatura do espaço-tempo ao redor de um objeto massivo.",
        "A gravidade é uma força mágica que não segue regras.",
      ],
      respostaCorreta: "C",
    },
    {
      pergunta:
        "O que acontece com o espaço-tempo quando um objeto muito massivo está presente?",
      opcoes: [
        "O espaço-tempo se estica e fica plano.",
        "O espaço-tempo desaparece.",
        "O espaço-tempo se encolhe completamente.",
        "O espaço-tempo se dobra e forma uma curva.",
      ],
      respostaCorreta: "D",
    },
    {
      pergunta: "Como a teoria da relatividade geral foi confirmada?",
      opcoes: [
        "Observando as marés dos oceanos.",
        "Medindo a distância entre estrelas.",
        "Observando o movimento de planetas e a curvatura da luz ao redor de objetos massivos.",
        "Medindo a velocidade de uma corrida.",
      ],
      respostaCorreta: "C",
    },
    {
      pergunta:
        "O que é um buraco negro segundo a teoria da relatividade geral?",
      opcoes: [
        "Uma estrela comum que brilha muito.",
        "Um planeta que tem uma atmosfera muito densa.",
        "Um cometa que está se aproximando da Terra.",
        "Uma área onde a gravidade é tão forte que nada pode escapar.",
      ],
      respostaCorreta: "D",
    },
    {
      pergunta: "O que significa que a luz pode ser 'curvada' pela gravidade?",
      opcoes: [
        "A luz segue uma trajetória curva quando passa perto de um objeto massivo.",
        "A luz muda de cor quando passa perto de um objeto massivo.",
        "A luz fica mais brilhante quando passa perto de um objeto massivo.",
        "A luz para completamente quando passa perto de um objeto massivo.",
      ],
      respostaCorreta: "A",
    },
    {
      pergunta:
        "Qual é o impacto da teoria da relatividade geral na nossa compreensão do universo?",
      opcoes: [
        "Ela confirma que o universo é plano e não tem curvatura.",
        "Ela revela que a gravidade não tem efeito no universo.",
        "Ela mostra que os planetas são feitos de energia pura.",
        "Ela mostra que o universo é muito maior do que se pensava anteriormente e que a gravidade pode curvar o espaço-tempo.",
      ],
      respostaCorreta: "D",
    },
    {
      pergunta: "O que é o 'efeito de lente gravitacional'?",
      opcoes: [
        "O efeito de luz refletida por um espelho.",
        "A distorção da luz de objetos distantes devido à curvatura do espaço-tempo por um objeto massivo.",
        "A mudança de cor de um objeto quando visto de longe.",
        "A capacidade de um telescópio de ver através da poeira.",
      ],
      respostaCorreta: "B",
    },
    {
      pergunta: "Como a teoria da relatividade geral afeta a medição do tempo?",
      opcoes: [
        "O tempo passa mais rápido em regiões onde a gravidade é mais forte.",
        "O tempo sempre passa igual, não importa onde você esteja.",
        "A gravidade não afeta o tempo de forma alguma.",
        "O tempo passa mais devagar em regiões onde a gravidade é mais forte.",
      ],
      respostaCorreta: "D",
    },
  ],
  dilatacaoDoTempo: [
    {
      pergunta: "O que é dilatação do tempo?",
      opcoes: [
        "Quando o tempo passa mais rápido para quem está se movendo rápido.",
        "Quando o tempo passa mais devagar para quem está se movendo rápido.",
        "Quando o tempo não muda, não importa o que você faça.",
        "Quando o tempo para completamente quando você se move rápido.",
      ],
      respostaCorreta: "B",
    },
    {
      pergunta: "Como a velocidade afeta o tempo?",
      opcoes: [
        "O tempo passa mais rápido para quem está se movendo rápido.",
        "O tempo passa igual para todos, não importa a velocidade.",
        "O tempo passa mais devagar para quem está se movendo rápido.",
        "A velocidade faz com que o tempo pare completamente.",
      ],
      respostaCorreta: "C",
    },
    {
      pergunta:
        "O que acontece com o tempo para um astronauta que viaja muito rápido?",
      opcoes: [
        "O tempo passa mais rápido para o astronauta.",
        "O tempo passa normal para o astronauta.",
        "O tempo passa mais devagar para o astronauta.",
        "O tempo não muda para o astronauta.",
      ],
      respostaCorreta: "C",
    },
    {
      pergunta: "O que é um 'relógio lento'?",
      opcoes: [
        "Um relógio que funciona mais rápido quando está se movendo.",
        "Um relógio que funciona normal, não importa o movimento.",
        "Um relógio que funciona mais devagar quando está se movendo rápido.",
        "Um relógio que para completamente quando está se movendo rápido.",
      ],
      respostaCorreta: "C",
    },
    {
      pergunta: "Como a dilatação do tempo é usada com satélites?",
      opcoes: [
        "Satélites não precisam ajustar seus relógios.",
        "Satélites ajustam seus relógios porque o tempo passa diferente lá em cima.",
        "Satélites ajustam seus relógios para que eles funcionem mais rápido.",
        "Satélites ajustam seus relógios para não funcionar mais.",
      ],
      respostaCorreta: "B",
    },
    {
      pergunta: "O que é o paradoxo dos gêmeos?",
      opcoes: [
        "É quando dois gêmeos envelhecem da mesma maneira, não importa onde estejam.",
        "É quando um gêmeo que viaja rápido envelhece mais devagar do que o gêmeo que fica na Terra.",
        "É quando dois gêmeos envelhecem mais rápido quando um deles viaja.",
        "É quando os gêmeos têm a mesma idade, independentemente de viajarem ou não.",
      ],
      respostaCorreta: "B",
    },
    {
      pergunta: "A dilatação do tempo acontece em velocidades normais?",
      opcoes: [
        "Sim, é muito perceptível em velocidades normais.",
        "Não, só acontece a velocidades muito altas ou perto de grandes planetas.",
        "Sim, é a mesma em todas as velocidades.",
        "Não, só acontece em lugares muito quentes.",
      ],
      respostaCorreta: "B",
    },
    {
      pergunta: "Como a dilatação do tempo afeta nosso dia a dia?",
      opcoes: [
        "Afeta muito, e você precisa sempre ajustar seus relógios.",
        "Não faz muita diferença na vida cotidiana porque os efeitos são pequenos.",
        "Afeta pouco, mas é muito importante para a escola.",
        "Não afeta, você não precisa se preocupar com isso.",
      ],
      respostaCorreta: "B",
    },
    {
      pergunta: "O que é um relógio 'em movimento'?",
      opcoes: [
        "Um relógio que fica mais rápido quando está parado.",
        "Um relógio que funciona normal não importa onde esteja.",
        "Um relógio que funciona mais devagar quando está se movendo rápido.",
        "Um relógio que para completamente quando está em movimento.",
      ],
      respostaCorreta: "C",
    },
    {
      pergunta: "Como sabemos que a dilatação do tempo funciona?",
      opcoes: [
        "Através de observações de partículas rápidas e relógios em aviões e satélites.",
        "Só por teorias, não temos provas.",
        "Através de experimentos com objetos parados.",
        "Por observações de relógios na escola.",
      ],
      respostaCorreta: "A",
    },
  ],
  espacoTempoEBuracosNegros: [
    {
      pergunta: "O que é o espaço-tempo?",
      opcoes: [
        "A ideia de que espaço e tempo são duas coisas separadas.",
        "A combinação de espaço e tempo em uma única estrutura.",
        "Um tipo de matéria que preenche o universo.",
        "Uma linha reta que conecta pontos no espaço.",
      ],
      respostaCorreta: "B",
    },
    {
      pergunta: "Como a massa afeta o espaço-tempo?",
      opcoes: [
        "A massa faz o espaço-tempo se dobrar ao redor do objeto.",
        "A massa faz o espaço-tempo ficar mais plano.",
        "A massa não afeta o espaço-tempo.",
        "A massa faz o espaço-tempo desaparecer.",
      ],
      respostaCorreta: "A",
    },
    {
      pergunta: "O que significa que o espaço-tempo é 'curvo'?",
      opcoes: [
        "Significa que o espaço-tempo é como uma linha reta.",
        "Significa que o espaço e o tempo se dobram ao redor de objetos pesados.",
        "Significa que o espaço-tempo não muda.",
        "Significa que o espaço-tempo é completamente plano.",
      ],
      respostaCorreta: "B",
    },
    {
      pergunta: "Como a gravidade está relacionada ao espaço-tempo?",
      opcoes: [
        "A gravidade faz o espaço-tempo ficar plano.",
        "A gravidade é causada pela curvatura do espaço-tempo.",
        "A gravidade não tem relação com o espaço-tempo.",
        "A gravidade faz o espaço-tempo desaparecer.",
      ],
      respostaCorreta: "B",
    },
    {
      pergunta: "O que é um buraco de minhoca?",
      opcoes: [
        "Um tipo de estrela que explode.",
        "Uma passagem teórica que conecta dois lugares distantes no universo.",
        "Um buraco negro pequeno e fraco.",
        "Uma área onde a gravidade não existe.",
      ],
      respostaCorreta: "B",
    },
    {
      pergunta: "O que é um buraco negro?",
      opcoes: [
        "Uma área no espaço onde a gravidade é muito fraca.",
        "Uma área no espaço onde a gravidade é tão forte que nada pode escapar.",
        "Um buraco pequeno em um planeta.",
        "Um lugar onde a luz brilha muito mais.",
      ],
      respostaCorreta: "B",
    },
    {
      pergunta: "Como um buraco negro se forma?",
      opcoes: [
        "Quando um planeta pequeno explode.",
        "Quando uma estrela grande desmorona e colapsa.",
        "Quando uma estrela se move muito rápido.",
        "Quando um buraco no espaço se forma naturalmente.",
      ],
      respostaCorreta: "B",
    },
    {
      pergunta: "Podemos ver o que está dentro de um buraco negro?",
      opcoes: [
        "Não, porque o horizonte de eventos bloqueia qualquer coisa que tente sair de dentro do buraco negro.",
        "Sim, através de telescópios especiais.",
        "Sim, através de radiações especiais emitidas pelo buraco negro.",
        "Não, mas podemos ver o que está ao redor dele.",
      ],
      respostaCorreta: "A",
    },
    {
      pergunta: "O que é uma singularidade?",
      opcoes: [
        "Um ponto no centro do buraco negro onde a gravidade é muito fraca.",
        "Um ponto onde a gravidade é extremamente forte e tudo se junta.",
        "Um ponto onde a luz brilha muito no buraco negro.",
        "Um ponto onde não há gravidade no buraco negro.",
      ],
      respostaCorreta: "B",
    },
    {
      pergunta: "Os buracos negros podem crescer?",
      opcoes: [
        "Sim, ao absorver mais matéria e outros buracos negros.",
        "Não, eles sempre ficam do mesmo tamanho.",
        "Sim, mas só se perderem matéria.",
        "Não, eles encolhem com o tempo.",
      ],
      respostaCorreta: "A",
    },
  ],
};

let currentQuiz = [];
let currentQuestionIndex = 0;
let selectedAnswer = null;
let correctAnswers = 0;

function startQuiz(theme) {
  currentQuiz = quizData[theme];
  currentQuestionIndex = 0;
  correctAnswers = 0;

  document.getElementById("theme-selection").classList.add("hidden");
  document.getElementById("quiz-container").classList.remove("hidden");

  loadQuestion();
}

function loadQuestion() {
  const currentQuestion = currentQuiz[currentQuestionIndex];

  document.getElementById("question-text").textContent =
    currentQuestion.pergunta;

  currentQuestion.opcoes.forEach((opcao, index) => {
    document.getElementById(`option-${index}`).textContent = opcao;
  });

  document.getElementById("progress-text").textContent = `Questão ${
    currentQuestionIndex + 1
  } de ${currentQuiz.length}`;
  document.getElementById("progress-bar").style.width = `${
    ((currentQuestionIndex + 1) / currentQuiz.length) * 100
  }%`;

  selectedAnswer = null;
  const buttons = document.querySelectorAll(".OptionsButtons .QuizBtn");
  buttons.forEach((btn) => {
    btn.classList.remove("selected");
    btn.classList.remove("correct");
    btn.classList.remove("incorrect");
    btn.disabled = false;
  });
}

function selectOption(index) {
  selectedAnswer = index;

  const buttons = document.querySelectorAll(".OptionsButtons .QuizBtn");
  buttons.forEach((btn, idx) => {
    if (idx === index) {
      btn.classList.add("selected");
    } else {
      btn.classList.remove("selected");
    }
  });
}

function submitAnswer() {
  if (selectedAnswer === null) {
    alert("Por favor, selecione uma resposta!");
    return;
  }

  const correctOption = currentQuiz[currentQuestionIndex].respostaCorreta;
  const chosenOption = ["A", "B", "C", "D"][selectedAnswer];

  const buttons = document.querySelectorAll(".OptionsButtons .QuizBtn");

  buttons.forEach((btn, idx) => {
    const btnOption = ["A", "B", "C", "D"][idx];
    if (btnOption === correctOption) {
      btn.classList.add("correct");
    } else if (btnOption === chosenOption) {
      btn.classList.add("incorrect");
    }
  });

  buttons.forEach((btn) => (btn.disabled = true));

  if (chosenOption === correctOption) {
    correctAnswers++;
  }

  currentQuestionIndex++;

  // if (currentQuestionIndex < currentQuiz.length) {
  //   loadQuestion();
  // } else {
  //   showResults();
  // }

  setTimeout(() => {
    if (currentQuestionIndex < currentQuiz.length) {
      loadQuestion();
    } else {
      showResults();
    }
  }, 2000);
}

function showResults() {
  localStorage.setItem("pontuacao", correctAnswers);
  window.location.href = "quizresultado.html";
}

const header = document.querySelector(".header");

function checkHeaderColor() {
  const scrollPosition = window.scrollY || window.pageYOffset;
  console.log("1");

  if (scrollPosition >= 100) {
    header.classList.add("black-bg");
  } else {
    header.classList.remove("black-bg");
  }
}

window.addEventListener("scroll", checkHeaderColor);
checkHeaderColor();
